{{ define "main" }}
<div class="homepage">
  <!-- Tag Cloud -->
  <section class="tag-cloud">
    <div class="section-label">Topics</div>
    <div class="tags">
      {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
        {{ if gt (len $taxonomy.Pages) 2 }}
        <a href="{{ "/tags/" | relURL }}{{ $name | urlize }}/" class="tag">
          {{ $name }} <span class="count">({{ len $taxonomy.Pages }})</span>
        </a>
        {{ end }}
      {{ end }}
    </div>
  </section>

  <!-- Recent Posts -->
  <section class="recent-posts">
    <div class="section-label">Recent</div>
    {{ range first 15 .Site.RegularPages }}
      <article class="post-card">
        <time datetime='{{ .Date.Format "2006-01-02" }}'>{{ .Date.Format "Jan 2, 2006" }}</time>
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        {{ with .Summary }}<p class="summary">{{ . }}</p>{{ end }}
        <div class="post-tags">
          {{ range .GetTerms "tags" }}
          <a href="{{ .Permalink }}">#{{ .LinkTitle }}</a>
          {{ end }}
        </div>
      </article>
    {{ end }}
    <p class="view-all"><a href="/posts/">View all posts â†’</a></p>
  </section>
</div>
{{ end }}
